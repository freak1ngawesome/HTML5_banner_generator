{"version":3,"sources":["components/header/header.js","components/customization/customization.js","actions/index.js","components/preview/preview.js","components/export/export.js","components/app/app.js","reducer/index.js","store.js","index.js"],"names":["Header","className","mapDispatchToProps","bgChange","val","type","value","fontColorChange","fontSizeChange","bannerSizeXChange","bannerSizeYChange","imgChange","linkChange","reset","connect","state","settings","background","fontColor","fontSize","bannerSizeX","bannerSizeY","imgURL","link","onClick","e","menu","document","querySelector","txt","target","textContent","style","display","toggleMenu","data-test","onChange","onInput","preventDefault","banner_style","position","width","height","overflow","borderRadius","banner_text_style","top","left","color","fontFamily","fontWeight","lineHeight","userSelect","dragAndDrop","elem","parent","onmousedown","event","startX","getBoundingClientRect","startY","documentElement","scrollTop","shiftX","clientX","shiftY","clientY","moveAt","pageX","pageY","onMouseMove","addEventListener","onmouseup","removeEventListener","ondragstart","useEffect","banner","bannerImg","getElementById","bannerText","setAttribute","cursor","onblur","id","src","alt","suppressContentEditableWarning","saveAs","uri","filename","createElement","download","href","body","appendChild","click","removeChild","window","open","showNotification","text","note","innerHTML","hideNotification","node","scrollTo","behavior","html2canvas","useCORS","then","canvas","toDataURL","setTimeout","catch","copyOfNode","outerHTML","navigator","clipboard","writeText","config","textValue","JSON","stringify","App","initialState","reducer","action","store","createStore","ReactDOM","render"],"mappings":"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","file":"static/js/main.910ecb1e.chunk.js","sourcesContent":["// просто HEADER...\r\nimport './header.css';\r\n\r\nfunction Header() {\r\n  return (\r\n  <header className='header'>\r\n    <h1 className='header__heading'>Create your awesome banner</h1>\r\n  </header>\r\n  );\r\n};\r\n// экспорт шапки\r\nexport default Header;","// импорты зависимостей\r\nimport {connect} from 'react-redux';\r\nimport {\r\n  bgChange,\r\n  fontColorChange,\r\n  fontSizeChange,\r\n  bannerSizeXChange,\r\n  bannerSizeYChange,\r\n  imgChange,\r\n  linkChange,\r\n  reset\r\n} from '../../actions';\r\nimport './customization.css';\r\nimport PropTypes from 'prop-types';\r\n\r\n// функциональный компонент меню настройки баннера, передаются настройки и actions\r\nexport function Customization({ // экспорт отдельно компонента без Connect для тестов\r\n  settings,\r\n  bgChange,\r\n  fontColorChange,\r\n  fontSizeChange,\r\n  bannerSizeXChange,\r\n  bannerSizeYChange,\r\n  imgChange,\r\n  linkChange,\r\n  reset\r\n}) {\r\n\r\n  // кнопка переключения открытия/закрытия меню настроек\r\n  const toggleMenu = (e) => {\r\n    const menu = document.querySelector('.customization__form'); // получаем элемент меню\r\n    const txt = e.target.textContent; // получаем надпись с кнопки\r\n    if (txt === 'show'){ // если кнопка в положении SHOW, то прячем блок и меняем на HIDE\r\n      menu.style.display = 'block';\r\n      e.target.textContent = 'hide';\r\n    };\r\n    if (txt === 'hide'){ // если кнопка в положении HIDE, то прячем блок и меняем на SHOW\r\n      menu.style.display = 'none';\r\n      e.target.textContent = 'show';\r\n    };\r\n  };\r\n\r\n  // делаем диструктуризацию настроек из settings\r\n  const {background,fontColor,fontSize,bannerSizeX,bannerSizeY,imgURL,link} = settings;\r\n\r\n  // возвращаем из компонента...\r\n  // ниже из return() возвращается разметка секции редактирования формы, на input'ах повешены обработчики событий, так чтобы\r\n  // изменения сразу отображались на превью.\r\n  // картинку можно задать сслыкой (URL или URI)\r\n  // в строку цвета заднего фона можно вставить просто цвет ( вручную или через палитру ) и градиент ( только руками )\r\n\r\n  // data атрибуты нужны для тестов, потому что искать элемент по id или className не надежно, тк другой программист может их поменять случайно\r\n  return (\r\n  <section className='customization'>\r\n    <div className='customization__block'>\r\n      <button className='customizer_btn' onClick={(e) => toggleMenu(e)}>show</button>\r\n      <form className='customization__form'>\r\n        <div className='customization__form_item banner_sizes'>\r\n          <h2 className='customization__form_label'>Banner size</h2>\r\n          <div className='customization__form_inputs'>\r\n            <span>X:</span>\r\n            <input type='text' className='customization__form_text' data-test='SizeX' value={bannerSizeX} onChange={e => bannerSizeXChange(e.target.value)}/>\r\n            <span>Y:</span>\r\n            <input type='text' className='customization__form_text' data-test='SizeY' value={bannerSizeY} onChange={e => bannerSizeYChange(e.target.value)}/>\r\n          </div>\r\n        </div>\r\n        <div className='customization__form_item background'>\r\n          <h2 className='customization__form_label'>Background</h2>\r\n          <div className='customization__form_inputs'>\r\n            <input type='color' className='customization__form_color' data-test='BGColor' value={background} onInput={e => bgChange(e.target.value)}/>\r\n            <input type='text' className='customization__form_text' value={background} onChange={e => bgChange(e.target.value)}/>\r\n          </div>\r\n        </div>\r\n        <div className='customization__form_item font_color'>\r\n          <h2 className='customization__form_label'>Font color</h2>\r\n          <div className='customization__form_inputs'>\r\n            <input type='color' className='customization__form_color' data-test='FontColor' value={fontColor} onInput={e => fontColorChange(e.target.value)}/>\r\n            <input type='text' className='customization__form_text' value={fontColor} onChange={e => fontColorChange(e.target.value)}/>\r\n          </div>\r\n        </div>\r\n        <div className='customization__form_item font_size'>\r\n          <h2 className='customization__form_label'>Font size</h2>\r\n          <div className='customization__form_inputs'>\r\n            <input type='text' className='customization__form_text' data-test='FontSize' value={fontSize} onChange={e => fontSizeChange(e.target.value)}/>\r\n          </div>\r\n        </div>\r\n        <div className='customization__form_item imgURL'>\r\n          <h2 className='customization__form_label'>Enter img link or URI</h2>\r\n          <div className='customization__form_inputs'>\r\n            <input type='text' className='customization__form_text' data-test='ImgLink' value={imgURL} onChange={e => imgChange(e.target.value)}/>\r\n          </div>\r\n        </div>\r\n        <div className='customization__form_item link'>\r\n          <h2 className='customization__form_label'>Enter link to your site</h2>\r\n          <div className='customization__form_inputs'>\r\n            <input type='text' className='customization__form_text' data-test='SiteLink' value={link} onChange={e => linkChange(e.target.value)}/>\r\n          </div>\r\n        </div>\r\n        <button className='reset_btn' onClick={(e) => {e.preventDefault(); reset()}}>reset</button>\r\n      </form>\r\n    </div>\r\n  </section>\r\n  );\r\n}\r\n// прокидываем свойства из store\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    settings: state,\r\n  }\r\n};\r\n// прокидываем действия \r\nconst mapDispatchToProps = {\r\n  bgChange,\r\n  fontColorChange,\r\n  fontSizeChange,\r\n  bannerSizeXChange,\r\n  bannerSizeYChange,\r\n  imgChange,\r\n  linkChange,\r\n  reset,\r\n};\r\n// проверка типов пропсов\r\nCustomization.propTypes = {\r\n  settings: PropTypes.object.isRequired,\r\n  bgChange: PropTypes.func.isRequired,\r\n  fontColorChange: PropTypes.func.isRequired,\r\n  fontSizeChange: PropTypes.func.isRequired,\r\n  bannerSizeXChange: PropTypes.func.isRequired,\r\n  bannerSizeYChange: PropTypes.func.isRequired,\r\n  imgChange: PropTypes.func.isRequired,\r\n  linkChange: PropTypes.func.isRequired,\r\n  reset: PropTypes.func.isRequired,\r\n}\r\n// экспортируем полученный компонент\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Customization);","// тут описаны action'ы\r\nexport const bgChange = (val) => { // изменить цвет заднего фона\r\n  return {\r\n    type: 'ADD_BG',\r\n    value: val,\r\n  };\r\n};\r\nexport const fontColorChange = (val) => { // изменить цвет шрифта\r\n  return {\r\n    type: 'ADD_FONT_COLOR',\r\n    value: val,\r\n  };\r\n};\r\nexport const fontSizeChange = (val) => { // изменить размер шрифта\r\n  return {\r\n    type: 'ADD_FORN_SIZE',\r\n    value: val,\r\n  };\r\n};\r\nexport const bannerSizeXChange = (val) => { // изменить размер баннера по X\r\n  return {\r\n    type: 'ADD_BANNER_SIZE_X',\r\n    value: val,\r\n  };\r\n};\r\nexport const bannerSizeYChange = (val) => { // изменить размер баннера по Y\r\n  return {\r\n    type: 'ADD_BANNER_SIZE_Y',\r\n    value: val,\r\n  };\r\n};\r\nexport const imgChange = (val) => { // изменить/добавить изображение\r\n  return {\r\n    type: 'ADD_IMG',\r\n    value: val,\r\n  };\r\n};\r\nexport const linkChange = (val) => { // изменить/добавить ссылку для перехода на сайт\r\n  return {\r\n    type: 'ADD_LINK',\r\n    value: val,\r\n  };\r\n};\r\nexport const reset = () => { // сбросить настройки\r\n  return {\r\n    type: 'RESET',\r\n  };\r\n};","// импортируем зависимости\r\nimport {connect} from 'react-redux';\r\nimport {useEffect} from 'react';\r\nimport './preview.css';\r\nimport PropTypes from 'prop-types';\r\n\r\n// функциональный компонент превью\r\nfunction Preview({settings}) {\r\n\r\n  // объекты со стилями для элементов превью, в настраиваемые свойства помещаем значения из settings\r\n  const banner_style = { // сам баннер\r\n    position: 'absolute',\r\n    width: settings.bannerSizeX + 'px',\r\n    height: settings.bannerSizeY + 'px',\r\n    background: settings.background,\r\n    overflow: 'hidden',\r\n    borderRadius: '10px',\r\n    \r\n  };\r\n  const banner_text_style = { // текст на баннере\r\n    width: '100%',\r\n    position: 'absolute',\r\n    top: '50%',\r\n    left: '10px',\r\n    color: settings.fontColor,\r\n    fontFamily: 'monospace',\r\n    fontWeight: '700',\r\n    fontSize: settings.fontSize + 'px',\r\n    lineHeight: settings.fontSize + 'px',\r\n    height: 3*settings.fontSize + 'px',\r\n    overflow: 'hidden',\r\n    userSelect: 'none',\r\n  };\r\n  const banner_img_style = { // изображение на баннере\r\n    position: 'absolute',\r\n    top: '0',\r\n    left: '0',\r\n  };\r\n  // useEffect используется для симуляции в функциональном компоненте ComponentDidMount()\r\n  useEffect(() => {\r\n    const banner = document.querySelector('.banner'); // получаем баннер\r\n    const bannerImg = document.getElementById('banner_img'); // получаем картинку на баннере\r\n    const bannerText = document.getElementById('banner_text'); // получаем текст на баннере\r\n    dragAndDrop(bannerImg,banner); // запускаем функцию драг'анд'дроп на картинку\r\n    dragAndDrop(bannerText,banner); // запускаем функцию драг'анд'дроп на текст\r\n    // ниже обрабатывается логика редактирования текста, который доступен после двойного клика на текст\r\n    bannerText.addEventListener('dblclick', () => {\r\n      bannerText.setAttribute('contenteditable','true'); // при даблклике добавляем возможность редактировать текст\r\n      bannerText.style.cursor = 'text'; // меняем курсор\r\n      bannerText.style.userSelect = 'auto'; // добавляем возможность выделять текст\r\n      bannerText.onmousedown = null; // убираем прослушку нажатия на текст\r\n      bannerText.addEventListener('blur', () => { // в момент ухода с текста фокуса возвращаем все назад, текст снова в состоянии перемещения\r\n        bannerText.setAttribute('contenteditable','false');\r\n        bannerText.style.cursor = 'move';\r\n        bannerText.style.userSelect = 'none';\r\n        dragAndDrop(bannerText,banner);\r\n        bannerText.onblur = null;\r\n      });\r\n    });\r\n  },[])\r\n  \r\n  function dragAndDrop (elem,parent){\r\n    elem.onmousedown = function(event) { // по нажатию на объект\r\n      const startX = parent.getBoundingClientRect().left; // определем начало отсчета по X\r\n      const startY = parent.getBoundingClientRect().top + document.documentElement.scrollTop; // определем начало отсчета по Y с учетом прокрутки\r\n      let shiftX = event.clientX - elem.getBoundingClientRect().left; // смещение курсора относительно центра объекта по X\r\n      let shiftY = event.clientY - elem.getBoundingClientRect().top; // смещение курсора относительно центра объекта по Y\r\n      moveAt(event.pageX, event.pageY);\r\n\r\n      function moveAt(pageX, pageY) { // перезапись свойств left и top у объекта на основе вычислений разности изначального положения и текущего\r\n        elem.style.left = pageX - shiftX - startX + 'px';\r\n        elem.style.top = pageY - shiftY - startY + 'px';\r\n      };\r\n\r\n      function onMouseMove(event) {\r\n        moveAt(event.pageX, event.pageY); // передвигаем объект, после начальной выставки\r\n      };\r\n\r\n      document.addEventListener('mousemove', onMouseMove); // передвигаем объект при событии mousemove\r\n    \r\n      elem.onmouseup = function() { // отпустить объект, удалить обработчики\r\n        document.removeEventListener('mousemove', onMouseMove);\r\n        elem.onmouseup = null;\r\n      };\r\n    };\r\n    \r\n    elem.ondragstart = function() { // отменим событие браузерного дрэгга\r\n      return false;\r\n    };\r\n  };\r\n  // возвращаем разметку\r\n  return (\r\n    <section className='preview' id='preview'>\r\n      <div className='banner' style={banner_style} id='capture'>\r\n        <img src={settings.imgURL} alt='' style={banner_img_style} id='banner_img'/>\r\n        <div  style={banner_text_style} suppressContentEditableWarning={true} id='banner_text'> Write your awesome text here</div>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n// прокидываем настройки в компонент\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    settings: state\r\n  }\r\n};\r\n\r\n// проверка типов пропсов\r\nPreview.propTypes = {\r\n  settings: PropTypes.object.isRequired,\r\n}\r\n\r\n// экспортируем компонент\r\nexport default connect(mapStateToProps)(Preview);","// импорты зависимостей\r\nimport {connect} from 'react-redux';\r\nimport './export.css'\r\nimport html2canvas from 'html2canvas';\r\nimport PropTypes from 'prop-types';\r\n\r\n// функциональный компонент Export\r\nfunction Export({link,settings}) {\r\n\r\n  // функция для 'скриншота', испольуется библиотека html2canvas, в случае успеха получаем канвас\r\n   const download = () => {\r\n    const node = document.getElementById('capture');\r\n    window.scrollTo({\r\n      top: 0,\r\n      behavior: \"instant\",\r\n    });\r\n\r\n\r\n    html2canvas(node,{\r\n      useCORS: true\r\n    }).then(canvas => {\r\n      saveAs(canvas.toDataURL(), \"banner.png\"); // вызывается функция сохранения, куда передается ссылка на канвас и имя файла\r\n      showNotification('<b>take a screenshot...</b>'); // показывается оповещение\r\n      setTimeout(hideNotification,500); // скрывается оповещение\r\n    })\r\n    .catch(() => {\r\n      showNotification('<b>something is going wrong</b>');\r\n      setTimeout(hideNotification,500);\r\n    });\r\n  };\r\n  // эта функция создает <a> с которого можно скачать наше фото\r\n  const saveAs = (uri, filename) => {\r\n    const link = document.createElement(\"a\");\r\n    if (typeof link.download === \"string\") {\r\n      link.href = uri;\r\n      link.download = filename;\r\n      document.body.appendChild(link); // добавим ссылку в DOM\r\n      link.click(); // качаем...\r\n      document.body.removeChild(link); // убираем\r\n    } else {\r\n      window.open(uri);\r\n    }\r\n  };\r\n  // показ уведомления с вашим текстом\r\n  const showNotification = (text) => {\r\n    const note = document.querySelector('.notification');\r\n    note.innerHTML = text;\r\n    note.style.display = 'block';\r\n  };\r\n  // удаление уведомления\r\n  const hideNotification = () => {\r\n    const note = document.querySelector('.notification');\r\n    note.innerHTML = '';\r\n    note.style.display = 'none';\r\n  };\r\n  // функция для сиреализации html разметки\r\n  const copyNode = () => {\r\n    const node = document.getElementById('capture');\r\n    const copyOfNode = node.outerHTML; // получаем сериализацию\r\n    // в буффер обмена кидаем разметку, обернув ее ссылкой на сайт\r\n    navigator.clipboard.writeText(`<a href=${link} style='display: block; heigth: 100%' target='_blank'>` + copyOfNode + '</a>')\r\n    .then(() => {\r\n      showNotification('<b>copied to clipboard</b>');\r\n      setTimeout(hideNotification,500);\r\n    })\r\n    .catch(() => {\r\n      showNotification('<b>something is going wrong</b>');\r\n      setTimeout(hideNotification,500);\r\n    });\r\n  };\r\n  // копирование настроект в формат JSON\r\n  const copySettings = () => {\r\n    const bannerText = document.getElementById('banner_text').textContent;\r\n    const config = {\r\n      ...settings,\r\n      textValue: bannerText // добавим в конфигурацию баннера текст\r\n    };\r\n    navigator.clipboard.writeText(JSON.stringify(config)) // кладем конфиг в буффер обмена\r\n    .then(() => {\r\n      showNotification('<b>settings is saved as JSON</b>');\r\n      setTimeout(hideNotification,500);\r\n    })\r\n    .catch(() => {\r\n      showNotification('<b>something is going wrong</b>');\r\n      setTimeout(hideNotification,500);\r\n    });\r\n  };\r\n\r\n  // возращаемая размента, на кнопки вешаеются обработчики с функциями\r\n  return (\r\n  <>\r\n    <section className='export'>\r\n      <button className='export__btn' id='save_png' onClick={download}>Save as .png</button>\r\n      <button className='export__btn copy_html' onClick={copyNode}>Copy as HTML5 string</button>\r\n      <button className='export__btn copy_json' onClick={copySettings}>Copy settings</button>\r\n    </section>\r\n    <p className='notification'></p>\r\n  </>\r\n  );\r\n};\r\n\r\n// прокидываем ссылку на сайт и все настойки отделно\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    link: state.link,\r\n    settings: state,\r\n  }\r\n};\r\n// проверка типов пропсов\r\nExport.propTypes = {\r\n  link: PropTypes.string.isRequired,\r\n  settings: PropTypes.object.isRequired\r\n}\r\n\r\n// экспорт компонента\r\nexport default connect(mapStateToProps)(Export);","// импортируем нужные зависимости\r\nimport Header from '../header/header.js';\r\nimport CustomizationMenu from '../customization/customization.js';\r\nimport PreviewBox from '../preview/preview.js';\r\nimport ExportButtons from '../export/export.js';\r\nimport './app.css'\r\n\r\n// оборачиваем наши компоненты в контейнер\r\nfunction App() {\r\n  return (\r\n    <div className='container'>\r\n      <Header/>\r\n      <ExportButtons/>\r\n      <CustomizationMenu/>\r\n      <PreviewBox/>\r\n      \r\n    </div>\r\n  );\r\n}\r\n// экспортируем\r\nexport default App;\r\n","// изначальное состояние\r\nconst initialState = {\r\n  background: '#000000',\r\n  fontColor: '#ffffff',\r\n  fontSize: '44',\r\n  bannerSizeX: '282',\r\n  bannerSizeY: '376',\r\n  imgURL: '',\r\n  link: ''\r\n};\r\n// описание reducer'а\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type){\r\n    case 'ADD_BG':{\r\n      return {\r\n        ...state,\r\n        background: action.value,\r\n      };\r\n    }\r\n    case 'ADD_FONT_COLOR':{\r\n      return {\r\n        ...state,\r\n        fontColor: action.value,\r\n      };\r\n    }\r\n    case 'ADD_FORN_SIZE':{\r\n      return {\r\n        ...state,\r\n        fontSize: action.value,\r\n      };\r\n    }\r\n    case 'ADD_BANNER_SIZE_X':{\r\n      return {\r\n        ...state,\r\n        bannerSizeX: action.value,\r\n      };\r\n    }\r\n    case 'ADD_BANNER_SIZE_Y':{\r\n      return {\r\n        ...state,\r\n        bannerSizeY: action.value,\r\n      };\r\n    }\r\n    case 'ADD_IMG':{\r\n      return {\r\n        ...state,\r\n        imgURL: action.value,\r\n      };\r\n    }\r\n    case 'ADD_LINK':{\r\n      return {\r\n        ...state,\r\n        link: action.value,\r\n      };\r\n    }\r\n    case 'RESET':{\r\n      return initialState;\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default reducer;// экспорт reduser'а","import {createStore} from 'redux';\r\nimport reducer from './reducer';\r\n\r\nconst store = createStore(reducer);\r\n\r\nexport default store;\r\n\r\n// СОЗДАНИЕ STORE, не более","// импортируем зависимости\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/app/app.js';\r\nimport {Provider} from 'react-redux';\r\nimport store from './store.js'\r\nimport './index.css';\r\n\r\n// app оборачивается провайдером со store\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}